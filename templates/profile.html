


{% extends "index.html" %}

{% block content %}
<div class="profile-container">

  <!-- Profile Info Section -->
  <div class="card profile-card">
    <h2>Profile Information</h2>
    <hr />
    <div class="profile-info">
      <img class="profile-pic" src="{{ user.profile_pic }}" alt="Profile Picture" />
      <div class="details">
        <p><strong>Username</strong><br>{{ user.username }}</p>
        <p><strong>Email</strong><br>{{ user.email }}</p>

        {% if user.is_profile_complete() %}
        <div class="status complete">
          <span>&#10004;</span> Profile Complete
        </div>
        {% else %}
        <div class="status incomplete">
          <span>&#10008;</span> Profile Incomplete
        </div>
        {% endif %}
        
        <a href="{{ url_for('edit_profile') }}" class="edit-button">
          ‚úèÔ∏è Edit Profile
        </a>
      </div>
    </div>
  </div>

  <!-- My Listings -->
  <div class="card">
    <h2>My Listings</h2>
    <hr />
    <div class="item-list">
      {% for product in user.products %}
      <div class="item">
        <span>üì¶ {{ product.title }}</span>
        <span class="price">‚Çπ{{ product.price }}</span>
      </div>
      {% else %}
      <p>No listings yet.</p>
      {% endfor %}
    </div>
    <a href="{{ url_for('all_listings') }}" class="view-more-btn">View More</a>

  </div>

  <!-- My Orders -->
  <div class="card">
    <h2>My Orders</h2>
    <hr />
    <div class="item-list">
      {% for order in user.orders %}
      <div class="item">
        <div>
          üõí <strong>{{ order.product.title }}</strong><br />
          <small>Quantity: {{ order.quantity }}</small>
        </div>
        <span class="price">‚Çπ{{ order.product.price }}</span>
      </div>
      {% else %}
      <p>No orders yet.</p>
      {% endfor %}
    </div>
  </div>

</div>
{% endblock %}
